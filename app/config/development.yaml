# ===============================
# Pedro-Core å…¨å±€é…ç½®ç¤ºä¾‹
# ===============================

app:
  name: Pedro-Core
  version: 1.0.0
  env: dev               # å¯é€‰ï¼šdev / staging / prod
  debug: true
  log_level: DEBUG
  timezone: Asia/Tokyo
  host: 127.0.0.1
  port: 5001
  server_domain: "https://api-test.qi-yue.vip"
  oss_domain: "https://up.qi-yue.vip/"

# ===============================
# æ•°æ®åº“é…ç½®
# ===============================
database:
  url: postgresql+asyncpg://postgres:jiandan@localhost:5432/lin
  pool_size: 10
  max_overflow: 20
  echo: false
  auto_create: true

# ===============================
# JWT / Auth é…ç½®
# ===============================
auth:
  secret: "lin-secret" # ä¸Šäº§ç¯å¢ƒè¦æ¢æ‰
  algorithm: HS256
  access_expires_in: ${ACCESS_EXPIRES_IN}   # ${ACCESS_EXPIRES_IN_DAYS} å¤©/å•ä½${ACCESS_EXPIRES_IN_SECONDS} / ç§’å•ä½
  refresh_expires_in: ${REFRESH_EXPIRES_IN} # å¤©
  issuer: Pedro-Core

# ===============================
# æ—¥å¿—é…ç½®
# ===============================
logger:
  level: DEBUG
  log_to_file: true
  log_path: logs/
  rotation: 1 week
  retention: 30 days

# ===============================
# Redis ç¼“å­˜é…ç½®
# ===============================
redis:
  host: localhost
  port: 55000
  db: 0
  password: ${REDIS_PASSWORD}
  redis_url: ${REDIS_URL}

# ===============================
# é‚®ä»¶æœåŠ¡é…ç½®
# ===============================
email:
  smtp_server: smtp.gmail.com
  smtp_port: 587
  username: your_email@gmail.com
  password: ${EMAIL_PASSWORD}    # ğŸ‘ˆ å¯è¢« .env ç¯å¢ƒå˜é‡æ›¿æ¢
  use_tls: true

# ===============================
# æ–‡ä»¶å­˜å‚¨é…ç½®
# ===============================
storage:
  provider: local                # å¯é€‰ local / s3 / gcs / tencent
  path: ./uploads/
  max_size_mb: 10
  include_ext: ["jpg", "png", "jpeg"]
  exclude_ext: ["exe", "bat"]
  banners_path: ${BANNERS_PATH}
  h5_path: ${H5_PATH}

# ===============================
# æ’ä»¶æ¨¡å—é…ç½®ï¼ˆå¯æ‰©å±•ï¼‰
# ===============================
plugins:
  enable_example_plugin: true
  path: ./app/plugins
  allowed: ["book", "wallet", "user"]

# ===============================
# ä¸€äº›ç¬¬ä¸‰æ–¹KEYå‚æ•°
# ===============================
unsplash:
  access_key: ${UNSPLASH_ACCESS_KEY}
  secret_key: ${UNSPLASH_SECRET_KEY}

# ===============================
# é€šçŸ¥ç³»ç»Ÿé…ç½®ï¼ˆWebSocket / Email / Slackï¼‰
# ===============================
notify:
  enable_socketio: true
  enable_email: false
  enable_slack: false

roles:
  hierarchy: ["admin", "merchant", "agent", "user", "guest"]
  # æˆ–è€…è‡ªå®šä¹‰ impliesï¼ˆå†™äº† implies å°±ä¸å†ç”¨ hierarchy è‡ªåŠ¨æ¨å¯¼ï¼‰
  # implies:
  #   admin:    ["merchant","agent","user","guest"]
  #   merchant: ["agent","user","guest"]
  #   agent:    ["user","guest"]
  #   user:     ["guest"]

rabbitmq:
  host: 128.0.0.1
  port: 5672
  username: admin
  password: admin
  virtual_host: "/"
  url: ${RABBITMQ_URL}
  default_exchange: ""
  default_queue: "task_queue"

# ç”¨æˆ· extra é»˜è®¤é…ç½®
extra:
  default:
    vip_status: false        # æ˜¯å¦ä¸ºVIPç”¨æˆ·
    vip_expire_at: null      # VIPåˆ°æœŸæ—¶é—´
    points: 0                # ç§¯åˆ†
    balance: 0               # ä½™é¢
    level: "normal"          # ç­‰çº§

    settings:
      theme: "light"         # UIä¸»é¢˜
      lang: "en-US"          # é»˜è®¤è¯­è¨€

    referral:
      inviter_id: null       # é‚€è¯·è€…ID
      l1_id: null            # ä¸€çº§æ¨è
      l2_id: null
      l3_id: null
      ref_path: ""           # æ¨èè·¯å¾„
      invite_code: null      # é‚€è¯·ç 
    sensitive:
      login_ip: null
      login_devices: null

tencent:
  tmt:
    secret_id: ${TENCENT_SECRET_ID}
    secret_key: ${TENCENT_SECRET_KEY}

google:
  firebase:
    client_id: ${GOOGLE_CLIENT_ID}
    service_account_path: ${GOOGLE_SERVICE_ACCOUNT_PATH}
    project_id: ${GOOGLE_PROJECT_ID}
    database_url: ${GOOGLE_DATABASE_URL}

qiniu:
  provider: qiniu
  bucket: "uupp"
  access_key: "pXGaTVOeM-psbf_nw0hftAvqnMkOCdjFEJVUlKDq"
  secret_key: "_giPlnkbEuxLDDqUgRquXsqJC8qsk7twx4e1Ptdq"
  cdn: "https://up.qi-yue.vip"

aes:
  secret: ${AES_KEY}
  iv: ${AES_IV}